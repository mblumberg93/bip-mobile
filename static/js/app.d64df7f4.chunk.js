(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{311:function(e,t,n){"use strict";var r=n(9),o=n.n(r),a=n(12),i=n.n(a),u=n(10),c=n.n(u),s=n(11),l=n.n(s),p=n(5),m=n.n(p),f=n(0),h=n.n(f),d=n(254),v=n(481),y=n(255),b=n.n(y),g=n(58),w=n(47),C=n(45),S=n(3),E=n(2),R=n(13),k=n(43);function T(e){return{type:"UPDATE_GAME",payload:e}}function D(e){return{type:"MAKE_MOVE",payload:e}}function U(e){return{type:"RERACK",payload:e}}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var A=function(e){c()(n,e);var t=O(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={name:"",code:"",nameError:!1,codeError:!1},r}return i()(n,[{key:"handleNameChange",value:function(e){this.setState({name:e,nameError:!1})}},{key:"handleCodeChange",value:function(e){this.setState({code:e,codeError:!1})}},{key:"handleCreate",value:function(){if(this.state.name){var e=this.generateCode(),t="game-"+e,n=this.state.name+"-"+t;this.props.updateGame({name:this.state.name,code:e,gameChannel:t,UUID:n}),this.props.onCreate(this.state.name)}else this.setState({nameError:!0})}},{key:"handleJoin",value:function(){if(this.state.name&&this.state.code){var e="game-"+this.state.code,t=this.state.name+"-"+e;this.props.updateGame({name:this.state.name,code:this.state.code,gameChannel:e,UUID:t}),this.props.onJoin(this.state.name,e)}else this.state.name&&!this.state.code?this.setState({codeError:!0}):!this.state.name&&this.state.code?this.setState({nameError:!0}):this.setState({nameError:!0,codeError:!0})}},{key:"generateCode",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=t.length,r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*n));return e}},{key:"render",value:function(){var e=this;return h.a.createElement(S.a,{style:M.formContainer},h.a.createElement(R.a,{style:M.header},"Step 1: Enter Team Name"),h.a.createElement(C.c,{label:"Team Name",onChangeText:function(t){return e.handleNameChange(t)},containerStyle:{marginBottom:20},errorMessage:this.state.nameError?"Team Name is required":null,renderErrorMessage:this.state.nameError}),h.a.createElement(R.a,{style:{fontSize:20,fontWeight:"bold",marginBottom:30,marginTop:10}},"Step 2: Create A Game or Join A Game"),h.a.createElement(C.a,{title:"Create",buttonStyle:{marginBottom:15},onPress:function(){return e.handleCreate()}}),h.a.createElement(C.b,{style:{marginTop:30,marginBottom:30}}),h.a.createElement(C.c,{label:"Game Code",onChangeText:function(t){return e.handleCodeChange(t)},containerStyle:{marginBottom:20},errorMessage:this.state.codeError?"Game Code is required to join game":null,renderErrorMessage:this.state.codeError}),h.a.createElement(C.a,{title:"Join",buttonStyle:{marginBottom:15},onPress:function(){return e.handleJoin()}}))}}]),n}(f.Component),x=Object(k.b)(null,(function(e){return{updateGame:function(t){return e(T(t))}}}))(A),M=E.a.create({header:{fontSize:20,fontWeight:"bold",marginBottom:30,marginTop:10},formContainer:{paddingTop:20,paddingLeft:15,paddingRight:15}}),j=function(e){var t=e.navigation;return h.a.createElement(w.a,null,h.a.createElement(x,{onCreate:function(e){t.navigate("Creator",{})},onJoin:function(e,n){t.navigate("Start",{isJoiner:!0})}}))},P=n(21),I=n(150),B=0,W=1,z=2,G=3,L=4,N=5;function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var Y=function(e){c()(n,e);var t=J(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.pubnub){this.props.pubnub.setUUID(this.props.UUID);var t={message:function(t){if(t.message.content.event==B){var n={content:{event:W,name:e.props.name},id:Math.random().toString(16).substr(2)};e.props.pubnub.publish({channel:e.props.gameChannel,message:n}),e.props.updateGame({opponentName:t.message.content.name}),e.props.goToStart()}}};this.props.pubnub.addListener(t),this.props.pubnub.subscribe({channels:[this.props.gameChannel]})}}},{key:"componentWillUnmount",value:function(){this.props.pubnub&&this.props.pubnub.unsubscribeAll()}},{key:"render",value:function(){var e=this;return h.a.createElement(S.a,null,h.a.createElement(R.a,{style:_.codeText},"Welcome ",this.props.name),h.a.createElement(R.a,{style:_.codeText},"Share This Code With Your Opponent"),h.a.createElement(R.a,{style:_.codeText},this.props.code),h.a.createElement(P.a,{onPress:function(){return I.a.setString(e.props.code)}},h.a.createElement(R.a,{style:[_.codeText,{color:"blue"}]},"Copy Code To Clipboard")))}}]),n}(f.Component),K=Object(k.b)((function(e){return e}),(function(e){return{updateGame:function(t){return e(T(t))}}}))(Y),_=E.a.create({codeText:{textAlign:"center",marginTop:15,marginBottom:15,fontSize:20,fontWeight:"bold"}}),q=function(e){var t=e.navigation,n=Object(g.b)();return h.a.createElement(w.a,null,h.a.createElement(K,{pubnub:n,goToStart:function(){t.navigate("Start",{})}}))};function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var F=function(e){c()(n,e);var t=V(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={displayStartOptions:!r.props.isJoiner},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.pubnub){this.props.pubnub.setUUID(this.props.UUID);var t={message:function(t){t.message.content.event==W&&e.props.isJoiner&&(e.props.updateGame({opponentName:t.message.content.name}),e.setState({displayStartOptions:!0})),t.message.content.event==z&&(t.message.content.player==e.props.name?e.props.onYouStart():e.props.onOpponentStart())}};if(this.props.pubnub.addListener(t),this.props.pubnub.subscribe({channels:[this.props.gameChannel]}),this.props.isJoiner){var n={content:{event:B,name:this.props.name},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:n})}}}},{key:"componentWillUnmount",value:function(){this.props.pubnub&&this.props.pubnub.unsubscribeAll()}},{key:"handleYouStart",value:function(){this.props.onYouStart();var e={content:{event:z,player:this.props.name},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:e})}},{key:"handleOpponentStart",value:function(){this.props.onOpponentStart();var e={content:{event:z,player:this.props.opponentName},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:e})}},{key:"render",value:function(){var e=this;return h.a.createElement(S.a,{style:$.screenContainer},h.a.createElement(R.a,{style:$.standardText},"Welcome ",this.props.name,"!"),!this.state.displayStartOptions&&h.a.createElement(R.a,{style:$.standardText},"Waiting For Your Opponent To Join The Game..."),this.state.displayStartOptions&&h.a.createElement(S.a,null,h.a.createElement(R.a,{style:$.standardText},"Your opponent is ",this.props.opponentName),h.a.createElement(R.a,{style:$.standardText},"Choose who starts"),h.a.createElement(C.a,{title:this.props.name+" Starts",buttonStyle:{marginBottom:15},onPress:function(){return e.handleYouStart()}}),h.a.createElement(C.a,{title:this.props.opponentName+" Starts",buttonStyle:{marginBottom:15},onPress:function(){return e.handleOpponentStart()}})))}}]),n}(f.Component),H=Object(k.b)((function(e){return e}),(function(e){return{updateGame:function(t){return e(T(t))}}}))(F),$=E.a.create({screenContainer:{paddingTop:20,paddingLeft:15,paddingRight:15},standardText:{textAlign:"center",marginTop:15,marginBottom:15,fontSize:20,fontWeight:"bold"}}),Q=function(e){var t=e.route,n=e.navigation,r=Object(g.b)();return h.a.createElement(w.a,null,h.a.createElement(H,{isJoiner:t.params.isJoiner,pubnub:r,onYouStart:function(){n.navigate("Your Turn",{})},onOpponentStart:function(){n.navigate("Opponents Turn",{})}}))},X=n(22),Z=n.n(X),ee=n(28);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var ne=function(e){c()(r,e);var t=te(r);function r(e){return o()(this,r),t.call(this,e)}return i()(r,[{key:"toggleCup",value:function(){this.props.player===this.props.name&&(this.props.makeMove({player:this.props.name,row:this.props.row,column:this.props.column}),this.props.onUpdateCups(this.props.row,this.props.column))}},{key:"render",value:function(){var e=this,t=this.props.active?this.props.player===this.props.name?n(453):n(454):n(452);return h.a.createElement(P.a,{style:oe.cupContainer,onPress:function(){return e.toggleCup()},disabled:this.props.player!==this.props.name},h.a.createElement(ee.a,{style:oe.cup,source:t}))}}]),r}(f.Component),re=Object(k.b)((function(e){return e}),(function(e){return{makeMove:function(t){return e(D(t))}}}))(ne),oe=E.a.create({cup:{width:"180%",height:"180%",marginTop:"-45%",marginLeft:"-45%"},cupContainer:{overflow:"visible",width:"100%",height:"100%"}});function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var ie=n(143).vw,ue=function(e){c()(n,e);var t=ae(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"render",value:function(){var e=this;return h.a.createElement(S.a,{style:ce.square},this.props.hasCup&&h.a.createElement(re,{key:"cup"+this.props.row+this.props.column,player:this.props.player,row:this.props.row,column:this.props.column,active:this.props.active,onUpdateCups:function(t,n){return e.props.onUpdateCups(t,n)}}))}}]),n}(f.Component),ce=E.a.create({square:{width:ie(10),height:ie(10)}});function se(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var me=n(143).vw;var fe=function(e){c()(n,e);var t=pe(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){this.props.pubnub&&(this.props.pubnub.setUUID(this.props.UUID),this.props.pubnub.subscribe({channels:[this.props.gameChannel]}))}},{key:"componentWillUnmount",value:function(){this.props.pubnub&&this.props.pubnub.unsubscribeAll()}},{key:"getCup",value:function(e,t){for(var n,r=se(this.props.cups);!(n=r()).done;){var o=n.value;if(o.row===e&&o.column===t)return o}return null}},{key:"handleUpdateCups",value:function(e,t){var n={content:{event:G,player:this.props.name,row:e,column:t},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:n})}},{key:"handleRerack",value:function(){this.props.onRerack()}},{key:"handleEndTurn",value:function(){var e={content:{event:L,player:this.props.name},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:e}),this.props.onEndTurn()}},{key:"render",value:function(){var e=this,t=Z()(Array(7).keys()),n=t.map((function(n){return t.map((function(t){var r=e.getCup(n,t);return h.a.createElement(ue,{key:"square"+n+t,player:e.props.name,row:n,column:t,hasCup:null!==r,active:!!r&&r.active,onUpdateCups:function(t,n){return e.handleUpdateCups(t,n)}})}))}));return h.a.createElement(h.a.Fragment,null,h.a.createElement(S.a,{style:de.rackContainer},h.a.createElement(S.a,{style:de.grid},n)),h.a.createElement(S.a,{style:de.buttonContainer},h.a.createElement(C.a,{title:"Rerack",buttonStyle:{marginBottom:15},onPress:function(){return e.handleRerack()}}),h.a.createElement(C.a,{title:"End Turn",buttonStyle:{marginBottom:15},onPress:function(){return e.handleEndTurn()}})))}}]),n}(f.Component),he=Object(k.b)((function(e){return e}))(fe),de=E.a.create({rackContainer:{paddingTop:me(10),paddingBottom:me(10),paddingLeft:15,paddingRight:15,justifyContent:"center",alignItems:"center"},buttonContainer:{paddingTop:20,paddingLeft:15,paddingRight:15,paddingBottom:20},grid:{width:me(70),display:"flex",flexDirection:"row",flexWrap:"wrap"}}),ve=function(e){var t=e.navigation,n=Object(g.b)();return h.a.createElement(w.a,null,h.a.createElement(he,{pubnub:n,onRerack:function(){t.navigate("Rerack",{})},onEndTurn:function(){t.navigate("Opponents Turn",{})}}))};function ye(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var we=n(143).vw;var Ce=function(e){c()(n,e);var t=ge(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.pubnub){this.props.pubnub.setUUID(this.props.UUID);var t={message:function(t){if(t.message.content.player!==e.props.name){if(t.message.content.event===G){var n={player:t.message.content.player,row:t.message.content.row,column:t.message.content.column};e.props.makeMove(n)}t.message.content.event===L&&e.props.onStartTurn(),t.message.content.event===N&&e.props.rerack({player:t.message.content.player,formation:t.message.content.formation})}}};this.props.pubnub.addListener(t),this.props.pubnub.subscribe({channels:[this.props.gameChannel]})}}},{key:"componentWillUnmount",value:function(){this.props.pubnub&&this.props.pubnub.unsubscribeAll()}},{key:"getCup",value:function(e,t){for(var n,r=ye(this.props.opponentCups);!(n=r()).done;){var o=n.value;if(o.row===e&&o.column===t)return o}return null}},{key:"render",value:function(){var e=this,t=Z()(Array(7).keys()),n=t.map((function(n){return t.map((function(t){var r=6-n,o=6-t,a=e.getCup(r,o);return h.a.createElement(ue,{key:"square"+r+o,player:e.props.opponentName,row:r,column:o,hasCup:null!==a,active:!!a&&a.active,onUpdateCups:function(t,n){return e.handleUpdateCups(t,n)}})}))}));return h.a.createElement(S.a,{style:Ee.screenContainer},h.a.createElement(S.a,{style:Ee.grid},n))}}]),n}(f.Component),Se=Object(k.b)((function(e){return e}),(function(e){return{makeMove:function(t){return e(D(t))},rerack:function(t){return e(U(t))}}}))(Ce),Ee=E.a.create({screenContainer:{paddingTop:we(10),paddingLeft:15,paddingRight:15,paddingBottom:we(10),justifyContent:"center",alignItems:"center"},grid:{width:we(70),display:"flex",flexDirection:"row",flexWrap:"wrap"}}),Re=function(e){var t=e.navigation,n=Object(g.b)();return h.a.createElement(w.a,null,h.a.createElement(Se,{pubnub:n,onStartTurn:function(){t.navigate("Your Turn",{})}}))},ke=n(312),Te={value:0,name:"Standard",size:10,cups:[{row:0,column:0,active:!0},{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:0,column:6,active:!0},{row:2,column:1,active:!0},{row:2,column:3,active:!0},{row:2,column:5,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0},{row:6,column:3,active:!0}]},De=[Te,{value:1,name:"Desperation Honeycomb",size:7,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:1,active:!0},{row:2,column:3,active:!0},{row:2,column:5,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0}]},{value:2,name:"Three Two One",size:6,cups:[{row:0,column:1,active:!0},{row:0,column:3,active:!0},{row:0,column:5,active:!0},{row:2,column:2,active:!0},{row:2,column:4,active:!0},{row:4,column:3,active:!0}]},{value:3,name:"Three Three Straight Line",size:6,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0},{row:4,column:2,active:!0},{row:5,column:4,active:!0}]},{value:4,name:"Large Play Button",size:6,cups:[{row:0,column:1,active:!0},{row:1,column:3,active:!0},{row:2,column:1,active:!0},{row:2,column:5,active:!0},{row:3,column:3,active:!0},{row:4,column:1,active:!0}]},{value:5,name:"Three Two Straight Line",size:5,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0},{row:4,column:2,active:!0}]},{value:6,name:"Dog Bone",size:5,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:3,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0}]},{value:7,name:"Diamond",size:4,cups:[{row:0,column:3,active:!0},{row:2,column:2,active:!0},{row:2,column:4,active:!0},{row:4,column:3,active:!0}]},{value:8,name:"Two Two Straight Line",size:4,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0}]},{value:9,name:"Tiny Triange",size:3,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:3,active:!0}]},{value:10,name:"Belly Button (Small Play Button)",size:3,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0}]},{value:11,name:"Stoplight",size:3,cups:[{row:0,column:3,active:!0},{row:2,column:3,active:!0},{row:4,column:3,active:!0}]},{value:12,name:"Gentlemens",size:2,cups:[{row:0,column:3,active:!0},{row:2,column:3,active:!0}]},{value:13,name:"Single Cup",size:1,cups:[{row:0,column:3,active:!0}]}];function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}n(143).vw;var Oe=function(e){c()(n,e);var t=Ue(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={formation:null},r}return i()(n,[{key:"componentDidMount",value:function(){this.props.pubnub&&(this.props.pubnub.setUUID(this.props.UUID),this.props.pubnub.subscribe({channels:[this.props.gameChannel]}))}},{key:"componentWillUnmount",value:function(){this.props.pubnub&&this.props.pubnub.unsubscribeAll()}},{key:"handleChooseRack",value:function(){var e={content:{event:N,player:this.props.name,formation:this.state.formation},id:Math.random().toString(16).substr(2)};this.props.pubnub.publish({channel:this.props.gameChannel,message:e}),this.props.rerack({player:this.props.name,formation:this.state.formation}),this.props.onChooseRack()}},{key:"handleCancel",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this,t=this.props.cups.filter((function(e){return e.active})).length,n=De.filter((function(e){return e.size==t})).map((function(e){return{label:e.name,value:e.value}}));return h.a.createElement(S.a,{style:xe.buttonContainer},h.a.createElement(S.a,{style:xe.pickerContainer},h.a.createElement(ke.a,{items:n,onValueChange:function(t){return e.setState({formation:t})},placeholder:{label:"Select a Rack...",value:null,color:"grey"},style:Me})),h.a.createElement(C.a,{title:"Rerack",buttonStyle:{marginBottom:15},onPress:function(){return e.handleChooseRack()}}),h.a.createElement(C.a,{title:"Cancel",buttonStyle:{marginBottom:15},onPress:function(){return e.handleCancel()}}))}}]),n}(f.Component),Ae=Object(k.b)((function(e){return e}),(function(e){return{rerack:function(t){return e(U(t))}}}))(Oe),xe=E.a.create({buttonContainer:{paddingTop:20,paddingLeft:15,paddingRight:15},pickerContainer:{marginBottom:20}}),Me=E.a.create({inputIOS:{fontSize:16,paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",paddingRight:30,fontWeight:"bold"},inputAndroid:{fontSize:16,paddingHorizontal:10,paddingVertical:8,borderWidth:.5,borderColor:"purple",borderRadius:8,color:"black",paddingRight:30,fontWeight:"bold"}}),je=function(e){var t=e.navigation,n=Object(g.b)();return h.a.createElement(w.a,null,h.a.createElement(Ae,{pubnub:n,onChooseRack:function(){t.navigate("Your Turn",{})},onCancel:function(){t.navigate("Your Turn",{})}}))},Pe=n(110),Ie=n(304),Be=n(305),We=n(8),ze=n.n(We);function Ge(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne={name:"",opponentName:"",gameChannel:"",UUID:"",code:"",cups:Te.cups,opponentCups:Te.cups,formation:Te.value};function Je(e,t,n){return e.map((function(e){return e.row===t&&e.column===n&&(e.active=!e.active),e}))}function Ye(e){for(var t,n=[],r=Ge(e);!(t=r()).done;){var o=t.value;n.push(ze()({},o))}return n}var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_GAME"===t.type)return ze()({},e,t.payload);if("MAKE_MOVE"===t.type){var n=t.payload.player===e.name?Ye(e.cups):Ye(e.opponentCups),r=Je(n,t.payload.row,t.payload.column);return t.payload.player===e.name?ze()({},e,{cups:r}):ze()({},e,{opponentCups:r})}if("RERACK"===t.type){var o=De.filter((function(e){return e.value==t.payload.formation}))[0].cups;return t.payload.player===e.name?ze()({},e,{cups:o}):ze()({},e,{opponentCups:o})}return e};function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var qe=Object(Pe.createStore)(Ke,Object(Be.composeWithDevTools)(Object(Pe.applyMiddleware)(Ie.a))),Ve=Object(v.a)(),Fe=new b.a({subscribeKey:"sub-c-1caa123c-8678-11ea-885f-2621b2dc68c7",publishKey:"pub-c-cbe88329-b9ae-47ef-8470-0a088c87c8ae"}),He=function(e){c()(n,e);var t=_e(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"render",value:function(){return h.a.createElement(k.a,{store:qe},h.a.createElement(d.a,null,h.a.createElement(g.a,{client:Fe},h.a.createElement(Ve.Navigator,{initialRouteName:"Welcome"},h.a.createElement(Ve.Screen,{name:"Welcome",component:j,options:{title:"Welcome To BIP"}}),h.a.createElement(Ve.Screen,{name:"Creator",component:q,options:{title:"Game Code"}}),h.a.createElement(Ve.Screen,{name:"Start",component:Q,options:{title:"Choose Start"}}),h.a.createElement(Ve.Screen,{name:"Your Turn",component:ve,options:{title:"Your Turn",headerLeft:null}}),h.a.createElement(Ve.Screen,{name:"Opponents Turn",component:Re,options:{title:"Opponent's Turn",headerLeft:null}}),h.a.createElement(Ve.Screen,{name:"Rerack",component:je,options:{title:"Choose Rack",headerLeft:null}})))))}}]),n}(f.Component);t.a=He},320:function(e,t,n){n(321),e.exports=n(472)},321:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/bip-mobile/expo-service-worker.js",{scope:"/bip-mobile/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},452:function(e,t,n){e.exports=n.p+"static/media/circle_PNG63.6b47719b.png"},453:function(e,t,n){e.exports=n.p+"static/media/circle_PNG28.dc0b480f.png"},454:function(e,t,n){e.exports=n.p+"static/media/circle_PNG47.7225507e.png"}},[[320,1,2]]]);
//# sourceMappingURL=app.d64df7f4.chunk.js.map