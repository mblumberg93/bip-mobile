(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{317:function(e,t,n){"use strict";var r=n(9),o=n.n(r),a=n(12),i=n.n(a),c=n(10),u=n.n(c),s=n(11),l=n.n(s),p=n(4),m=n.n(p),f=n(1),h=n.n(f),v=n(260),d=n(498),y=n(50),g=n(46),b=n(3),w=n(2),S=n(20),C=n(47);function E(e){return{type:"UPDATE_GAME",payload:e}}function R(e){return{type:"MAKE_MOVE",payload:e}}function k(e){return{type:"RERACK",payload:e}}function T(e){return{type:"RESET",payload:e}}function D(e){return{type:"QUIT",payload:e}}var B=n(208);B.initializeApp({apiKey:"AIzaSyA29OFrh-oflVKXzNt1vKL7nVFK7Z2dJKQ",authDomain:"bip-mobile-fb871.firebaseapp.com",databaseURL:"https://bip-mobile-fb871.firebaseio.com",projectId:"bip-mobile-fb871",storageBucket:"bip-mobile-fb871.appspot.com",messagingSenderId:"968419467653",appId:"1:968419467653:web:fbf8c749e43e677f1b64ec",measurementId:"G-37SGKRG6Z5"});var x=B.database(),A=0,O=1,G=2,P=3,j=4,z=5,M=7,I=8,L=9;function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var N=function(e){u()(n,e);var t=W(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={name:"",code:"",nameError:!1,codeError:!1},r}return i()(n,[{key:"handleNameChange",value:function(e){this.setState({name:e,nameError:!1})}},{key:"handleCodeChange",value:function(e){this.setState({code:e,codeError:!1})}},{key:"handleCreate",value:function(){if(this.state.name){var e=this.generateCode(),t="games/game-"+e;this.props.updateGame({name:this.state.name,code:e,gameDB:t});var n={event:M,player:this.state.name,timestamp:Date.now()};x.ref(t).push(n),this.props.onCreate()}else this.setState({nameError:!0})}},{key:"handleJoin",value:function(){if(this.state.name&&this.state.code){var e="games/game-"+this.state.code;this.props.updateGame({name:this.state.name,code:this.state.code,gameDB:e}),this.props.onJoin()}else this.state.name&&!this.state.code?this.setState({codeError:!0}):!this.state.name&&this.state.code?this.setState({nameError:!0}):this.setState({nameError:!0,codeError:!0})}},{key:"generateCode",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=t.length,r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*n));return e}},{key:"render",value:function(){var e=this;return h.a.createElement(b.a,{style:U.formContainer},h.a.createElement(S.a,{style:U.header},"Step 1: Enter Team Name"),h.a.createElement(g.c,{label:"Team Name",onChangeText:function(t){return e.handleNameChange(t)},containerStyle:{marginBottom:20},errorMessage:this.state.nameError?"Team Name is required":null,renderErrorMessage:this.state.nameError}),h.a.createElement(S.a,{style:{fontSize:20,fontWeight:"bold",marginBottom:30,marginTop:10}},"Step 2: Create A Game or Join A Game"),h.a.createElement(g.a,{title:"Create",buttonStyle:{marginBottom:15},onPress:function(){return e.handleCreate()}}),h.a.createElement(g.b,{style:{marginTop:30,marginBottom:30}}),h.a.createElement(g.c,{label:"Game Code",onChangeText:function(t){return e.handleCodeChange(t)},containerStyle:{marginBottom:20},errorMessage:this.state.codeError?"Game Code is required to join game":null,renderErrorMessage:this.state.codeError}),h.a.createElement(g.a,{title:"Join",buttonStyle:{marginBottom:15},onPress:function(){return e.handleJoin()}}))}}]),n}(f.Component),J=Object(C.b)(null,(function(e){return{updateGame:function(t){return e(E(t))}}}))(N),U=w.a.create({header:{fontSize:20,fontWeight:"bold",marginBottom:30,marginTop:10},formContainer:{paddingTop:20,paddingLeft:15,paddingRight:15}}),Y=function(e){var t=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(J,{onCreate:function(){t.navigate("Creator",{})},onJoin:function(){t.navigate("Start",{isJoiner:!0})}}))},q=n(23),K=n(156);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var _=function(e){u()(n,e);var t=Q(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){var e=this;x.ref(this.props.gameDB).limitToLast(1).on("child_added",(function(t){var n=t.val();if(n.player!==e.props.name&&n.event==A){var r={event:O,player:e.props.name,timestamp:Date.now()};x.ref(e.props.gameDB).push(r),e.props.updateGame({opponentName:n.player}),e.props.goToStart()}}))}},{key:"render",value:function(){var e=this;return h.a.createElement(b.a,null,h.a.createElement(S.a,{style:F.codeText},"Welcome ",this.props.name),h.a.createElement(S.a,{style:F.codeText},"Share This Code With Your Opponent"),h.a.createElement(S.a,{style:F.codeText},this.props.code),h.a.createElement(q.a,{onPress:function(){return K.a.setString(e.props.code)}},h.a.createElement(S.a,{style:[F.codeText,{color:"blue"}]},"Copy Code To Clipboard")))}}]),n}(f.Component),V=Object(C.b)((function(e){return e}),(function(e){return{updateGame:function(t){return e(E(t))}}}))(_),F=w.a.create({codeText:{textAlign:"center",marginTop:15,marginBottom:15,fontSize:20,fontWeight:"bold"}}),H=function(e){var t=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(V,{goToStart:function(){t.navigate("Start",{})}}))};function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var $=function(e){u()(n,e);var t=Z(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={displayStartOptions:!r.props.isJoiner},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this;if(x.ref(this.props.gameDB).limitToLast(1).on("child_added",(function(t){var n=t.val();if(n.player!==e.props.name)switch(n.event){case O:e.props.isJoiner&&(e.props.updateGame({opponentName:n.player}),e.setState({displayStartOptions:!0}));break;case G:n.starter==e.props.name?e.props.onYouStart():e.props.onOpponentStart()}})),this.props.isJoiner){var t={event:A,player:this.props.name,timestamp:Date.now()};x.ref(this.props.gameDB).push(t)}}},{key:"handleYouStart",value:function(){this.props.onYouStart();var e={event:G,player:this.props.name,starter:this.props.name,timestamp:Date.now()};x.ref(this.props.gameDB).push(e)}},{key:"handleOpponentStart",value:function(){this.props.onOpponentStart();var e={event:G,player:this.props.name,starter:this.props.opponentName,timestamp:Date.now()};x.ref(this.props.gameDB).push(e)}},{key:"render",value:function(){var e=this;return h.a.createElement(b.a,{style:ee.screenContainer},h.a.createElement(S.a,{style:ee.standardText},"Welcome ",this.props.name,"!"),!this.state.displayStartOptions&&h.a.createElement(S.a,{style:ee.standardText},"Waiting For Your Opponent To Join The Game..."),this.state.displayStartOptions&&h.a.createElement(b.a,null,h.a.createElement(S.a,{style:ee.standardText},"Your opponent is ",this.props.opponentName),h.a.createElement(S.a,{style:ee.standardText},"Choose who starts"),h.a.createElement(g.a,{title:this.props.name+" Starts",buttonStyle:{marginBottom:15},onPress:function(){return e.handleYouStart()}}),h.a.createElement(g.a,{title:this.props.opponentName+" Starts",buttonStyle:{marginBottom:15},onPress:function(){return e.handleOpponentStart()}})))}}]),n}(f.Component),X=Object(C.b)((function(e){return e}),(function(e){return{updateGame:function(t){return e(E(t))}}}))($),ee=w.a.create({screenContainer:{paddingTop:20,paddingLeft:15,paddingRight:15},standardText:{textAlign:"center",marginTop:15,marginBottom:15,fontSize:20,fontWeight:"bold"}}),te=function(e){var t=e.route,n=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(X,{isJoiner:t.params.isJoiner,onYouStart:function(){n.navigate("Your Turn",{})},onOpponentStart:function(){n.navigate("Opponents Turn",{})}}))},ne=n(24),re=n.n(ne),oe=n(129),ae=n(41);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var ce=function(e){u()(r,e);var t=ie(r);function r(e){return o()(this,r),t.call(this,e)}return i()(r,[{key:"toggleCup",value:function(){this.props.player===this.props.name&&(this.props.makeMove({player:this.props.name,row:this.props.row,column:this.props.column}),this.props.onUpdateCups(this.props.row,this.props.column))}},{key:"render",value:function(){var e=this,t=this.props.active?this.props.player===this.props.name?n(470):n(471):n(469);return h.a.createElement(q.a,{style:se.cupContainer,onPress:function(){return e.toggleCup()},disabled:this.props.player!==this.props.name},h.a.createElement(ae.a,{style:se.cup,source:t}))}}]),r}(f.Component),ue=Object(C.b)((function(e){return e}),(function(e){return{makeMove:function(t){return e(R(t))}}}))(ce),se=w.a.create({cup:{width:"180%",height:"180%",marginTop:"-45%",marginLeft:"-45%"},cupContainer:{overflow:"visible",width:"100%",height:"100%"}});function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var pe=n(149).vw,me=function(e){u()(n,e);var t=le(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"render",value:function(){var e=this;return h.a.createElement(b.a,{style:fe.square},this.props.hasCup&&h.a.createElement(ue,{key:"cup"+this.props.row+this.props.column,player:this.props.player,row:this.props.row,column:this.props.column,active:this.props.active,onUpdateCups:function(t,n){return e.props.onUpdateCups(t,n)}}))}}]),n}(f.Component),fe=w.a.create({square:{width:pe(10),height:pe(10)}});function he(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var ye=n(149).vw;var ge=function(e){u()(n,e);var t=de(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"getCup",value:function(e,t){for(var n,r=he(this.props.cups);!(n=r()).done;){var o=n.value;if(o.row===e&&o.column===t)return o}return null}},{key:"handleUpdateCups",value:function(e,t){var n={event:P,player:this.props.name,row:e,column:t,timestamp:Date.now()};x.ref(this.props.gameDB).push(n)}},{key:"handleRerack",value:function(){this.props.onRerack()}},{key:"handleEndTurn",value:function(){var e={event:j,player:this.props.name,cups:this.props.cups,timestamp:Date.now()};x.ref(this.props.gameDB).push(e),this.props.onEndTurn()}},{key:"promptReset",value:function(){var e=this;oe.a.alert("Reset Game","Are you sure you want to reset the game?",[{text:"Cancel",style:"cancel"},{text:"OK",onPress:function(){return e.resetGame()}}])}},{key:"resetGame",value:function(){var e={event:I,player:this.props.name,timestamp:Date.now()};x.ref(this.props.gameDB).push(e),this.props.reset()}},{key:"promptQuit",value:function(){var e=this;oe.a.alert("Quit Game","Are you sure you want to quit the game?",[{text:"Cancel",style:"cancel"},{text:"OK",onPress:function(){return e.quitGame()}}])}},{key:"quitGame",value:function(){var e=this.props.name,t=this.props.gameDB,n={event:L,player:e,timestamp:Date.now()};console.log(n),x.ref(t).push(n),this.props.quit(),this.props.onQuit()}},{key:"render",value:function(){var e=this,t=re()(Array(7).keys()),n=t.map((function(n){return t.map((function(t){var r=e.getCup(n,t);return h.a.createElement(me,{key:"square"+n+t,player:e.props.name,row:n,column:t,hasCup:null!==r,active:!!r&&r.active,onUpdateCups:function(t,n){return e.handleUpdateCups(t,n)}})}))}));return h.a.createElement(h.a.Fragment,null,h.a.createElement(b.a,{style:we.rackContainer},h.a.createElement(b.a,{style:we.grid},n)),h.a.createElement(b.a,{style:we.buttonContainer},h.a.createElement(g.a,{title:"Rerack",buttonStyle:{marginBottom:15},onPress:function(){return e.handleRerack()}}),h.a.createElement(g.a,{title:"End Turn",buttonStyle:{marginBottom:15},onPress:function(){return e.handleEndTurn()}})),h.a.createElement(b.a,{style:we.buttonContainer},h.a.createElement(g.a,{title:"Reset Game",buttonStyle:{marginBottom:15,backgroundColor:"lightgrey",borderColor:"grey"},onPress:function(){return e.promptReset()}}),h.a.createElement(g.a,{title:"Quit Game",buttonStyle:{marginBottom:15,backgroundColor:"lightgrey",borderColor:"grey"},onPress:function(){return e.promptQuit()}})))}}]),n}(f.Component),be=Object(C.b)((function(e){return e}),(function(e){return{reset:function(t){return e(T(t))},quit:function(t){return e(D(t))}}}))(ge),we=w.a.create({rackContainer:{paddingTop:ye(10),paddingBottom:ye(10),paddingLeft:15,paddingRight:15,justifyContent:"center",alignItems:"center"},buttonContainer:{paddingTop:20,paddingLeft:15,paddingRight:15,paddingBottom:20},grid:{width:ye(70),display:"flex",flexDirection:"row",flexWrap:"wrap"}}),Se=function(e){var t=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(be,{onRerack:function(){t.navigate("Rerack",{})},onEndTurn:function(){t.navigate("Opponents Turn",{})},onQuit:function(){t.navigate("Welcome",{})}}))};function Ce(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var ke=n(149).vw;var Te=function(e){u()(n,e);var t=Re(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){var e=this;x.ref(this.props.gameDB).limitToLast(1).on("child_added",(function(t){var n=t.val();if(n.player!==e.props.name)switch(n.event){case P:var r={player:n.player,row:n.row,column:n.column};e.props.makeMove(r);break;case j:e.props.updateGame({opponentCups:n.cups}),e.props.onStartTurn();break;case z:e.props.rerack({player:n.player,formation:n.formation});break;case I:e.props.reset({});break;case L:e.props.quit({}),e.props.onQuit()}}))}},{key:"getCup",value:function(e,t){for(var n,r=Ce(this.props.opponentCups);!(n=r()).done;){var o=n.value;if(o.row===e&&o.column===t)return o}return null}},{key:"render",value:function(){var e=this,t=re()(Array(7).keys()),n=t.map((function(n){return t.map((function(t){var r=6-n,o=6-t,a=e.getCup(r,o);return h.a.createElement(me,{key:"square"+r+o,player:e.props.opponentName,row:r,column:o,hasCup:null!==a,active:!!a&&a.active,onUpdateCups:function(t,n){return e.handleUpdateCups(t,n)}})}))}));return h.a.createElement(b.a,{style:Be.screenContainer},h.a.createElement(b.a,{style:Be.grid},n))}}]),n}(f.Component),De=Object(C.b)((function(e){return e}),(function(e){return{makeMove:function(t){return e(R(t))},rerack:function(t){return e(k(t))},updateGame:function(t){return e(E(t))},reset:function(t){return e(T(t))},quit:function(t){return e(D(t))}}}))(Te),Be=w.a.create({screenContainer:{paddingTop:ke(10),paddingLeft:15,paddingRight:15,paddingBottom:ke(10),justifyContent:"center",alignItems:"center"},grid:{width:ke(70),display:"flex",flexDirection:"row",flexWrap:"wrap"}}),xe=function(e){var t=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(De,{onStartTurn:function(){t.navigate("Your Turn",{})},onQuit:function(){t.navigate("Welcome",{})}}))},Ae=n(318),Oe={value:0,name:"Standard",size:10,cups:[{row:0,column:0,active:!0},{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:0,column:6,active:!0},{row:2,column:1,active:!0},{row:2,column:3,active:!0},{row:2,column:5,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0},{row:6,column:3,active:!0}]},Ge=[Oe,{value:1,name:"Desperation Honeycomb",size:7,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:1,active:!0},{row:2,column:3,active:!0},{row:2,column:5,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0}]},{value:2,name:"Three Two One",size:6,cups:[{row:0,column:1,active:!0},{row:0,column:3,active:!0},{row:0,column:5,active:!0},{row:2,column:2,active:!0},{row:2,column:4,active:!0},{row:4,column:3,active:!0}]},{value:3,name:"Three Three Straight Line",size:6,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0},{row:4,column:2,active:!0},{row:5,column:4,active:!0}]},{value:4,name:"Large Play Button",size:6,cups:[{row:0,column:1,active:!0},{row:1,column:3,active:!0},{row:2,column:1,active:!0},{row:2,column:5,active:!0},{row:3,column:3,active:!0},{row:4,column:1,active:!0}]},{value:5,name:"Three Two Straight Line",size:5,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0},{row:4,column:2,active:!0}]},{value:6,name:"Dog Bone",size:5,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:3,active:!0},{row:4,column:2,active:!0},{row:4,column:4,active:!0}]},{value:7,name:"Diamond",size:4,cups:[{row:0,column:3,active:!0},{row:2,column:2,active:!0},{row:2,column:4,active:!0},{row:4,column:3,active:!0}]},{value:8,name:"Two Two Straight Line",size:4,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0},{row:3,column:4,active:!0}]},{value:9,name:"Tiny Triange",size:3,cups:[{row:0,column:2,active:!0},{row:0,column:4,active:!0},{row:2,column:3,active:!0}]},{value:10,name:"Belly Button (Small Play Button)",size:3,cups:[{row:0,column:2,active:!0},{row:1,column:4,active:!0},{row:2,column:2,active:!0}]},{value:11,name:"Stoplight",size:3,cups:[{row:0,column:3,active:!0},{row:2,column:3,active:!0},{row:4,column:3,active:!0}]},{value:12,name:"Gentlemens",size:2,cups:[{row:0,column:3,active:!0},{row:2,column:3,active:!0}]},{value:13,name:"Single Cup",size:1,cups:[{row:0,column:3,active:!0}]}];function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}n(149).vw;var je=function(e){u()(n,e);var t=Pe(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={formation:null},r}return i()(n,[{key:"handleChooseRack",value:function(){var e={event:z,player:this.props.name,formation:this.state.formation,timestamp:Date.now()};x.ref(this.props.gameDB).push(e),this.props.rerack({player:this.props.name,formation:this.state.formation}),this.props.onChooseRack()}},{key:"handleCancel",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this,t=this.props.cups.filter((function(e){return e.active})).length,n=Ge.filter((function(e){return e.size==t})).map((function(e){return{label:e.name,value:e.value}}));return h.a.createElement(b.a,{style:Me.buttonContainer},h.a.createElement(b.a,{style:Me.pickerContainer},h.a.createElement(Ae.a,{items:n,onValueChange:function(t){return e.setState({formation:t})},placeholder:{label:"Select a Rack...",value:"",color:"grey"},style:Ie})),h.a.createElement(g.a,{title:"Rerack",buttonStyle:{marginBottom:15},onPress:function(){return e.handleChooseRack()}}),h.a.createElement(g.a,{title:"Cancel",buttonStyle:{marginBottom:15},onPress:function(){return e.handleCancel()}}))}}]),n}(f.Component),ze=Object(C.b)((function(e){return e}),(function(e){return{rerack:function(t){return e(k(t))}}}))(je),Me=w.a.create({buttonContainer:{paddingTop:20,paddingLeft:15,paddingRight:15},pickerContainer:{marginBottom:20}}),Ie=w.a.create({inputIOS:{paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",paddingRight:30},inputAndroid:{paddingHorizontal:10,paddingVertical:8,borderWidth:.5,borderColor:"purple",borderRadius:8,color:"black",paddingRight:30}}),Le=function(e){var t=e.navigation;return h.a.createElement(y.a,null,h.a.createElement(ze,{onChooseRack:function(){t.navigate("Your Turn",{})},onCancel:function(){t.navigate("Your Turn",{})}}))},We=n(113),Ne=n(310),Je=n(311),Ue=n(8),Ye=n.n(Ue);function qe(e){var t=0;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(t)}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe={name:"",opponentName:"",code:"",cups:Oe.cups,opponentCups:Oe.cups,formation:Oe.value,gameDB:""};function _e(e,t,n){return e.map((function(e){return e.row===t&&e.column===n&&(e.active=!e.active),e}))}function Ve(e){for(var t,n=[],r=qe(e);!(t=r()).done;){var o=t.value;n.push(Ye()({},o))}return n}var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_GAME"===t.type)return Ye()({},e,t.payload);if("MAKE_MOVE"===t.type){var n=t.payload.player===e.name?Ve(e.cups):Ve(e.opponentCups),r=_e(n,t.payload.row,t.payload.column);return t.payload.player===e.name?Ye()({},e,{cups:r}):Ye()({},e,{opponentCups:r})}if("RERACK"===t.type){var o=Ge.filter((function(e){return e.value==t.payload.formation}))[0].cups;return t.payload.player===e.name?Ye()({},e,{cups:o}):Ye()({},e,{opponentCups:o})}if("RESET"===t.type){var a={cups:Oe.cups,opponentCups:Oe.cups,formation:Oe.value};return Ye()({},e,a)}return"QUIT"===t.type?Ye()({},e,Qe):e};function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var Ze=Object(We.createStore)(Fe,Object(Je.composeWithDevTools)(Object(We.applyMiddleware)(Ne.a))),$e=Object(d.a)(),Xe=function(e){u()(n,e);var t=He(n);function n(e){return o()(this,n),t.call(this,e)}return i()(n,[{key:"render",value:function(){return h.a.createElement(C.a,{store:Ze},h.a.createElement(v.a,null,h.a.createElement($e.Navigator,{initialRouteName:"Welcome"},h.a.createElement($e.Screen,{name:"Welcome",component:Y,options:{title:"Welcome To BIP"}}),h.a.createElement($e.Screen,{name:"Creator",component:H,options:{title:"Game Code"}}),h.a.createElement($e.Screen,{name:"Start",component:te,options:{title:"Choose Start"}}),h.a.createElement($e.Screen,{name:"Your Turn",component:Se,options:{title:"Your Turn",headerLeft:null}}),h.a.createElement($e.Screen,{name:"Opponents Turn",component:xe,options:{title:"Opponent's Turn",headerLeft:null}}),h.a.createElement($e.Screen,{name:"Rerack",component:Le,options:{title:"Choose Rack",headerLeft:null}}))))}}]),n}(f.Component);t.a=Xe},326:function(e,t,n){n(327),e.exports=n(489)},327:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/bip-mobile/expo-service-worker.js",{scope:"/bip-mobile/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},469:function(e,t,n){e.exports=n.p+"static/media/circle_PNG63.6b47719b.png"},470:function(e,t,n){e.exports=n.p+"static/media/circle_PNG28.dc0b480f.png"},471:function(e,t,n){e.exports=n.p+"static/media/circle_PNG47.7225507e.png"}},[[326,1,2]]]);
//# sourceMappingURL=app.0151be86.chunk.js.map